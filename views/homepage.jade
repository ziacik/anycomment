extends ./layout

block body
	.container(ng-controller="MessageController")
		.row
			.col-md-5
				ul.chat
					li.left.clear-fix(ng-repeat="message in messages")
						span.chat-img.pull-left
							img.img-circle(src="http://placehold.it/50/F5C1E7/fff&text={{message.sender.nickName}}", alt="User Avatar")
						.chat-body.clearfix
							.header
								strong.primary-font
									| {{message.sender.nickName}}
								small.pull-right.text-muted(style="padding-left:0.6em", ng-show="message.updatedAt !== message.createdAt")
									span.glyphicon.glyphicon-time
									| {{message.updatedAt | date : 'HH:mm'}}
								small.pull-right.text-muted
									span.glyphicon.glyphicon-time
									| {{message.createdAt | date : 'HH:mm'}}
								small.pull-right.text-muted(style="padding-right:0.6em")
									a(href="#", ng-click="edit(message.id)")
										span.glyphicon.glyphicon-edit
							p
								| {{message.content}}
				.input-group
					input.form-control.input-sm(type="text", placeholder="Type your message here...", ng-model="text" ng-disabled="sending")
					span.input-group-btn
						button.btn.btn-warning.btn-sm(ng-click="send()" ng-disabled="!text")
							| Send